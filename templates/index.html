<!DOCTYPE html>
<head>
    <style>
 

        body {
            font-size: 40px; /* Change font size as needed */
            text-align: center;
        }

        /* Adjustments for smaller screens */
        @media screen and (max-width: 1960px) {
            body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }
            /* Adjust specific elements for smaller screens if needed */
            #map_selection,
            #choosemap,
            #timelong,
            #channel,
            #btn {
                width: 80%; /* Adjust width as needed */
                margin: 5px 0;
                /* Add any other specific styles as needed */
            }
        }

        /* Additional styles for specific elements if needed */
        #map_selection,
        #choosemap,
        #timelong,
        #channel,
        #btn {
            font-size: 36px; /* Change font size for select elements */
            /* Add any other specific styles as needed */
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="crossorigin="anonymous"></script>
</head>
<body>
    <div >
        <form>
            <label>請選擇練等地區：</label>
            <select name="map_selection" id="map_selection"
                    onchange="changefield('map_selection',choosemap,'/changeselectfield/')">
                {% for mainmap in mapdata %}
                    <option value="{{ mainmap }}"> {{ mainmap }} </option>
                {% endfor %}
            </select>
        </form>
    </div>
    <div class="am-u-lg-3 am-u-md-3 am-u-sm-3 am-u-sm-offset-3">
        <form class="am-form">
            <label for="zhekou">請選擇地圖：</label>
            <select name="choosemap" id="choosemap">
                 {# 这里空着 等待获取后端返回的数据再写 #}
            </select>
            <br>
        </form>
    </div>
    <div>
        <form>
            <label>請選擇時長：</label>
            <select name="timelong" id="timelong">
                {% for timelong in timelongdata %}
                    <option value="{{ timelong }}"> {{ timelong }} </option>
                {% endfor %}
            </select>
            <br>
        </form>
    </div>
    <div>
        <form>
            <label>請選擇頻道：</label>
            <select name="channel" id="channel">
                {% for channel in channeldata %}
                    <option value="{{ channel }}"> {{ channel }} </option>
                {% endfor %}
            </select>
            <br>
        </form>
    </div>




    <div>
        
   
        <button class="btn" onclick="submitForm()" style="padding: 15px;font-size: larger;" >確認送出</button>
                
         
        <button class="btn" onclick="exitForm()" style="padding: 15px; font-size: larger;">離開此頁</button>
    </div>
    <!-- Your existing script and other elements -->
    <script>
        

        // Function to handle form submission
        function submitForm() {
            // Implement your form submission logic here
            console.log('Form submitted!');
            // You can add your form submission code or actions here
        }

        // Function to handle exit action
        function exitForm() {
            // Prompt the user to confirm leaving the page
            var confirmExit = confirm("確定要離開嗎？");
            if (confirmExit) {
                // Open a new window and close it (this will prompt the user to allow closing the window)
                var newWindow = window.open('', '_self');
                newWindow.close();
            }
        }
    </script>




    <script>
        function changefield(choose, id, url) {
            var data;
            var select = document.getElementById(choose);

            $(id).html(""); //每次重新选择当前列表框，就清空下一级列表框。
            for (i = 0; i < select.length; i++) {
                if (select[i].selected) { //判断被选中项
                    Name = select[i].text;
                    data = {
                        "name": Name
                    };
                    $.post({ //发起ajax请求
                        url: url,
                        type: "POST",
                        data: JSON.stringify(data),
                        // {#dataType:'json'#}
                        contentType: "application/json; charset=UTF-8",
                        
                        success: function (data) {
                            console.log(data);
                            // {#console.log(data.length);#}
                            if (data) {
                                $("<option selected='selected' disabled='disabled'  style='display: none' value=''></option> ").appendTo(id);
                                for (i = 0; i < data.length; i++) {
                                    $("<option value='" + data[i] + "'>" + data[i] + "</option>").appendTo(id);
                                }
                            } else {
                                alert('error')
                            }
                        }
                    });
                }
            }
        }
    </script>
</body>

</html>